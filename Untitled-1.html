<!-- /index.html -->
<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…ÙƒØªØ¨Ø© ØªØ±ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>

    <!-- GitHub Pages friendly (no absolute local SDK paths) -->
    <script src="https://cdn.tailwindcss.com/3.4.17"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      * { font-family: 'Cairo', sans-serif; }

      .book-card { transition: all 0.3s ease; }
      .book-card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.15); }

      .category-btn { transition: all 0.3s ease; }
      .category-btn:hover, .category-btn.active {
        background: linear-gradient(135deg, #1a4d3e 0%, #2d6a4f 100%);
        color: white;
        transform: scale(1.05);
      }

      .golden-accent {
        background: linear-gradient(135deg, #d4a853 0%, #f4d03f 50%, #d4a853 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .btn-primary {
        background: linear-gradient(135deg, #1a4d3e 0%, #2d6a4f 100%);
        transition: all 0.3s ease;
      }
      .btn-primary:hover {
        background: linear-gradient(135deg, #0d3d2e 0%, #1a5a3f 100%);
        transform: scale(1.02);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #d4a853 0%, #c9a227 100%);
        transition: all 0.3s ease;
      }
      .btn-secondary:hover {
        background: linear-gradient(135deg, #c9a227 0%, #b8941f 100%);
        transform: scale(1.02);
      }

      .hero-pattern {
        background-color: #f5f0e6;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231a4d3e' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }

      .paper-texture { background: linear-gradient(135deg, #faf8f3 0%, #f5f0e6 50%, #ebe5d9 100%); }

      .book-cover {
        background: linear-gradient(145deg, #1a4d3e 0%, #2d6a4f 30%, #1a4d3e 100%);
        position: relative;
        overflow: hidden;
      }
      .book-cover::before {
        content: '';
        position: absolute; inset: 0;
        background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
      }

      .pdf-viewer { background: #fff; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
      .modal-overlay { backdrop-filter: blur(8px); background: rgba(0,0,0,0.6); }

      .search-box { transition: all 0.3s ease; }
      .search-box:focus-within { box-shadow: 0 8px 30px rgba(26,77,62,0.2); transform: scale(1.01); }

      @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }

      @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
      .animate-float { animation: float 3s ease-in-out infinite; }

      .scrollbar-thin::-webkit-scrollbar { width: 6px; }
      .scrollbar-thin::-webkit-scrollbar-track { background: #f5f0e6; }
      .scrollbar-thin::-webkit-scrollbar-thumb { background: #1a4d3e; border-radius: 3px; }

      body { box-sizing: border-box; }
    </style>
  </head>

  <body class="h-full paper-texture">
    <div id="app" class="h-full overflow-auto scrollbar-thin">
      <!-- Navigation -->
      <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-[#1a4d3e]/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex items-center justify-between h-16">
            <div class="flex items-center gap-3 cursor-pointer" onclick="showHome()">
              <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-[#1a4d3e] to-[#2d6a4f] flex items-center justify-center shadow-lg">
                <svg class="w-6 h-6 text-[#d4a853]" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2L2 7v10c0 5.55 3.84 10 9 11 1.16-0.25 2.26-0.66 3.3-1.2L12 12V2zm0 2.18L6 7v8.18c0 3.61 2.66 6.94 6 8.07V4.18z" />
                  <path d="M19 2v7h2V2h-2zm0 10v2h2v-2h-2zm-5-2l4 6h-3v6h-2v-6h-3l4-6z" />
                </svg>
              </div>
              <div>
                <h1 id="nav-title" class="text-lg font-bold text-[#1a4d3e]">Ù…ÙƒØªØ¨Ø© ØªØ±ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h1>
                <p class="text-xs text-[#666] -mt-1">Ù„Ù„Ù‚ØµØµ ÙˆØ§Ù„ÙƒØªØ¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p>
              </div>
            </div>

            <div class="hidden md:flex items-center gap-6">
              <a href="#" onclick="showHome(); return false;" class="text-[#1a4d3e] hover:text-[#d4a853] transition-colors font-medium">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
              <a href="#" onclick="filterByCategory('all'); return false;" class="text-[#1a4d3e] hover:text-[#d4a853] transition-colors font-medium">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨</a>
              <a href="#categories" class="text-[#1a4d3e] hover:text-[#d4a853] transition-colors font-medium">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a>
            </div>

            <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-lg hover:bg-[#f5f0e6] transition-colors">
              <svg class="w-6 h-6 text-[#1a4d3e]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-[#1a4d3e]/10 px-4 py-3">
          <a href="#" onclick="showHome(); toggleMobileMenu(); return false;" class="block py-2 text-[#1a4d3e] font-medium">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
          <a href="#" onclick="filterByCategory('all'); toggleMobileMenu(); return false;" class="block py-2 text-[#1a4d3e] font-medium">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨</a>
          <a href="#categories" onclick="toggleMobileMenu()" class="block py-2 text-[#1a4d3e] font-medium">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a>
        </div>
      </nav>

      <!-- Main Content -->
      <main id="main-content">
        <!-- Hero Section -->
        <section id="hero-section" class="hero-pattern py-12 md:py-20">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
              <div class="flex-1 text-center md:text-right animate-fade-in">
                <div class="inline-flex items-center gap-2 bg-[#1a4d3e]/10 text-[#1a4d3e] px-4 py-2 rounded-full text-sm font-medium mb-6">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                  Ù…ÙƒØªØ¨Ø© Ù…Ø¯Ø±Ø³ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©
                </div>

                <h1 id="hero-title" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-[#1a4d3e] mb-4 leading-tight">
                  Ù…ÙƒØªØ¨Ø© <span class="golden-accent">ØªØ±ÙŠÙ…</span> Ø§Ù„Ø±Ù‚Ù…ÙŠØ©
                </h1>

                <p id="hero-description" class="text-lg md:text-xl text-[#555] mb-8 max-w-xl mx-auto md:mx-0">
                  Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ù„Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ø£Ø·ÙØ§Ù„. Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù…Ø§Ù‹ Ù…Ù† Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©!
                </p>

                <!-- Search Box -->
                <div class="search-box flex items-center gap-2 bg-white rounded-2xl p-2 shadow-lg max-w-lg mx-auto md:mx-0 border border-[#1a4d3e]/10">
                  <div class="flex-1 flex items-center gap-3 px-3">
                    <svg class="w-5 h-5 text-[#999]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input
                      type="text"
                      id="search-input"
                      placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨ Ø£Ùˆ Ù…Ø¤Ù„Ù..."
                      class="flex-1 py-3 bg-transparent outline-none text-[#333] placeholder-[#999]"
                      oninput="handleSearch(this.value)"
                    />
                  </div>
                  <button onclick="handleSearch(document.getElementById('search-input').value)" class="btn-primary text-white px-6 py-3 rounded-xl font-medium">
                    Ø¨Ø­Ø«
                  </button>
                </div>

                <!-- Stats -->
                <div class="flex items-center justify-center md:justify-start gap-8 mt-8">
                  <div class="text-center">
                    <div class="text-2xl font-bold text-[#1a4d3e]">6+</div>
                    <div class="text-sm text-[#666]">ÙƒØªØ§Ø¨ Ù…ØªØ§Ø­</div>
                  </div>
                  <div class="w-px h-10 bg-[#1a4d3e]/20"></div>
                  <div class="text-center">
                    <div class="text-2xl font-bold text-[#1a4d3e]">3</div>
                    <div class="text-sm text-[#666]">ØªØµÙ†ÙŠÙØ§Øª</div>
                  </div>
                  <div class="w-px h-10 bg-[#1a4d3e]/20"></div>
                  <div class="text-center">
                    <div class="text-2xl font-bold text-[#d4a853]">Ù…Ø¬Ø§Ù†ÙŠ</div>
                    <div class="text-sm text-[#666]">Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</div>
                  </div>
                </div>
              </div>

              <!-- Hero Illustration -->
              <div class="flex-1 flex justify-center animate-float">
                <div class="relative">
                  <div class="relative w-64 h-80 md:w-80 md:h-96">
                    <div class="absolute bottom-0 right-0 w-48 h-64 bg-gradient-to-br from-[#1a4d3e] to-[#2d6a4f] rounded-lg shadow-2xl transform rotate-6 flex items-center justify-center">
                      <div class="text-center p-4">
                        <svg class="w-16 h-16 text-[#d4a853] mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z" />
                        </svg>
                        <div class="text-white text-sm font-bold">Ù‚ØµØµ Ù…Ø¯Ø±Ø³ÙŠØ©</div>
                      </div>
                    </div>

                    <div class="absolute bottom-4 right-8 w-48 h-64 bg-gradient-to-br from-[#d4a853] to-[#c9a227] rounded-lg shadow-2xl transform -rotate-3 flex items-center justify-center">
                      <div class="text-center p-4">
                        <svg class="w-16 h-16 text-white mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                        </svg>
                        <div class="text-white text-sm font-bold">Ø®ÙŠØ§Ù„ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª</div>
                      </div>
                    </div>

                    <div class="absolute bottom-8 right-16 w-48 h-64 bg-gradient-to-br from-[#4a9079] to-[#3d7a66] rounded-lg shadow-2xl transform rotate-2 flex items-center justify-center">
                      <div class="text-center p-4">
                        <svg class="w-16 h-16 text-[#f5f0e6] mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z" />
                        </svg>
                        <div class="text-white text-sm font-bold">Ù‚ØµØµ Ø¨ÙŠØ¦ÙŠØ©</div>
                      </div>
                    </div>

                    <div class="absolute -top-4 -left-4 w-8 h-8 bg-[#d4a853] rounded-full opacity-60 animate-pulse"></div>
                    <div class="absolute top-1/4 -left-8 w-6 h-6 bg-[#1a4d3e] rounded-full opacity-40 animate-pulse" style="animation-delay: 0.5s"></div>
                    <div class="absolute -bottom-2 left-1/4 w-10 h-10 bg-[#4a9079] rounded-full opacity-50 animate-pulse" style="animation-delay: 1s"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Categories -->
        <section id="categories" class="py-12 bg-white">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
              <h2 class="text-3xl font-bold text-[#1a4d3e] mb-3">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h2>
              <p class="text-[#666]">Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</p>
            </div>
            <div class="flex flex-wrap justify-center gap-4" id="category-buttons">
              <button onclick="filterByCategory('all')" class="category-btn active flex items-center gap-3 px-6 py-4 rounded-2xl bg-white border-2 border-[#1a4d3e]/20 font-medium text-[#1a4d3e]" data-category="all">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" />
                </svg>
                Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨
              </button>

              <button onclick="filterByCategory('school')" class="category-btn flex items-center gap-3 px-6 py-4 rounded-2xl bg-white border-2 border-[#1a4d3e]/20 font-medium text-[#1a4d3e]" data-category="school">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z" />
                </svg>
                Ù‚ØµØµ Ù…Ø¯Ø±Ø³ÙŠØ©
              </button>

              <button onclick="filterByCategory('adventure')" class="category-btn flex items-center gap-3 px-6 py-4 rounded-2xl bg-white border-2 border-[#1a4d3e]/20 font-medium text-[#1a4d3e]" data-category="adventure">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                </svg>
                Ø®ÙŠØ§Ù„ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª
              </button>

              <button onclick="filterByCategory('environmental')" class="category-btn flex items-center gap-3 px-6 py-4 rounded-2xl bg-white border-2 border-[#1a4d3e]/20 font-medium text-[#1a4d3e]" data-category="environmental">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z" />
                </svg>
                Ù‚ØµØµ Ø¨ÙŠØ¦ÙŠØ© ÙˆØªÙˆØ¹ÙˆÙŠØ©
              </button>
            </div>
          </div>
        </section>

        <!-- Books -->
        <section id="books-section" class="py-12 hero-pattern">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-10">
              <div>
                <h2 id="section-title" class="text-3xl font-bold text-[#1a4d3e] mb-2">Ø£Ø­Ø¯Ø« Ø§Ù„ÙƒØªØ¨</h2>
                <p class="text-[#666]">Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ù…Ù† Ø§Ù„Ù‚ØµØµ ÙˆØ§Ù„ÙƒØªØ¨</p>
              </div>
              <div class="hidden md:block text-sm text-[#666]">
                Ø¹Ø±Ø¶ <span id="books-count" class="font-bold text-[#1a4d3e]">6</span> ÙƒØªØ¨
              </div>
            </div>

            <div id="books-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>

            <div id="no-results" class="hidden text-center py-16">
              <svg class="w-24 h-24 text-[#ccc] mx-auto mb-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
              </svg>
              <h3 class="text-xl font-bold text-[#666] mb-2">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</h3>
              <p class="text-[#999]">Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø¨Ø­Ø« Ø¨ÙƒÙ„Ù…Ø§Øª Ù…Ø®ØªÙ„ÙØ© Ø£Ùˆ ØªØµÙØ­ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</p>
            </div>
          </div>
        </section>
      </main>

      <!-- Book Detail Modal -->
      <div id="book-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute inset-0" onclick="closeModal()"></div>
        <div class="relative h-full flex items-center justify-center p-4">
          <div class="bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90%] overflow-hidden animate-fade-in">
            <div class="sticky top-0 bg-white z-10 flex items-center justify-between p-4 border-b border-[#eee]">
              <h3 id="modal-title" class="text-xl font-bold text-[#1a4d3e]">ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨</h3>
              <button onclick="closeModal()" class="p-2 rounded-full hover:bg-[#f5f0e6] transition-colors">
                <svg class="w-6 h-6 text-[#666]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <div class="overflow-auto p-6" style="max-height: calc(90vh - 80px)">
              <div id="modal-content"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="bg-[#1a4d3e] text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center">
                  <svg class="w-6 h-6 text-[#d4a853]" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z" />
                  </svg>
                </div>
                <span class="text-lg font-bold">Ù…ÙƒØªØ¨Ø© ØªØ±ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</span>
              </div>
              <p class="text-white/70 text-sm leading-relaxed">
                Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ù†Ø´Ø± Ø«Ù‚Ø§ÙØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ø£Ø·ÙØ§Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ ØªÙˆÙÙŠØ± Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù‡Ø§Ø¯ÙØ©.
              </p>
            </div>

            <div>
              <h4 class="font-bold mb-4 text-[#d4a853]">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
              <ul class="space-y-2">
                <li><a href="#" onclick="showHome(); return false;" class="text-white/70 hover:text-white transition-colors text-sm">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="#" onclick="filterByCategory('all'); return false;" class="text-white/70 hover:text-white transition-colors text-sm">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨</a></li>
                <li><a href="#categories" class="text-white/70 hover:text-white transition-colors text-sm">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a></li>
              </ul>
            </div>

            <div>
              <h4 class="font-bold mb-4 text-[#d4a853]">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
              <div class="space-y-3">
                <div class="flex items-center gap-3 text-white/70 text-sm">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
                  </svg>
                  info@trimlib.edu
                </div>
                <div class="flex items-center gap-3 text-white/70 text-sm">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                  </svg>
                  Ù…Ø¯Ø±Ø³Ø© ØªØ±ÙŠÙ… - Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª
                </div>
              </div>
            </div>
          </div>

          <div class="border-t border-white/20 mt-8 pt-8 text-center">
            <p class="text-white/50 text-sm">Â© 2024 Ù…ÙƒØªØ¨Ø© ØªØ±ÙŠÙ… Ø§Ù„Ø±Ù‚Ù…ÙŠØ©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
          </div>
        </div>
      </footer>
    </div>

    <script>
      /**
       * Google Drive URL helpers
       * - Preview (iframe): https://drive.google.com/file/d/<ID>/preview
       * - Open:           https://drive.google.com/file/d/<ID>/view
       * - Download:       https://drive.google.com/uc?export=download&id=<ID>
       */
      function drivePreviewUrl(fileId) {
        return `https://drive.google.com/file/d/${encodeURIComponent(fileId)}/preview`;
      }
      function driveViewUrl(fileId) {
        return `https://drive.google.com/file/d/${encodeURIComponent(fileId)}/view`;
      }
      function driveDownloadUrl(fileId) {
        return `https://drive.google.com/uc?export=download&id=${encodeURIComponent(fileId)}`;
      }

      // Books Data (store fileId instead of brittle preview URLs)
      const books = [
        {
          id: 1,
          title: "Ù‚ØµØ© Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø±ÙŠÙ…",
          author: "Ù…Ø¬Ù‡ÙˆÙ„",
          category: "school",
          categoryName: "Ù‚ØµØµ Ù…Ø¯Ø±Ø³ÙŠØ©",
          description: "Ù‚ØµØ© Ù…Ù„Ù‡Ù…Ø© Ø¹Ù† Ø·Ø§Ù„Ø¨Ø© Ù…ØªÙÙˆÙ‚Ø© ØªÙˆØ§Ø¬Ù‡ ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ø¨Ø´Ø¬Ø§Ø¹Ø© ÙˆØ¥ØµØ±Ø§Ø±ØŒ ÙˆØªØªØ¹Ù„Ù… Ù‚ÙŠÙ… Ø§Ù„ØµØ¯Ø§Ù‚Ø© ÙˆØ§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©.",
          coverColor: "from-[#1a4d3e] to-[#2d6a4f]",
          icon: "ğŸ“š",
          driveFileId: "1290wU9bg8qcL3e6x-O6J8vYAm9tpmkbO"
        },
        {
          id: 2,
          title: "Ù†ÙˆØ± Ø§Ù„Ø£Ù…Ù„",
          author: "Ø¨Ø·ÙŠ ÙŠÙˆØ³Ù",
          category: "school",
          categoryName: "Ù‚ØµØµ Ù…Ø¯Ø±Ø³ÙŠØ©",
          description: "Ù‚ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ­ÙƒÙŠ Ø¹Ù† Ø§Ù„Ø£Ù…Ù„ ÙˆØ§Ù„ØªÙØ§Ø¤Ù„ ÙÙŠ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØµØ¹ÙˆØ¨Ø§ØªØŒ ÙˆÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ù„Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„Ù†ÙØ³ Ø£Ù† ÙŠØºÙŠØ± Ø­ÙŠØ§ØªÙ†Ø§.",
          coverColor: "from-[#4a9079] to-[#3d7a66]",
          icon: "âœ¨",
          driveFileId: "1ZfLYIx4tnMIZ22R9G08ZkNDC5OH__EVB"
        },
        {
          id: 3,
          title: "Ø±Ø­Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„",
          author: "Ø£Ø­Ù…Ø¯ Ø²Ù†Ø¯Ø§Ø­",
          category: "adventure",
          categoryName: "Ø®ÙŠØ§Ù„ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª",
          description: "Ù…ØºØ§Ù…Ø±Ø© Ø®ÙŠØ§Ù„ÙŠØ© Ù…Ø«ÙŠØ±Ø© ØªØ£Ø®Ø° Ø§Ù„Ù‚Ø§Ø±Ø¦ ÙÙŠ Ø±Ø­Ù„Ø© Ø¹Ø¨Ø± Ø§Ù„Ø²Ù…Ù† Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ù…Ø°Ù‡Ù„ ÙˆØªÙ‚Ù†ÙŠØ§ØªÙ‡ Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©.",
          coverColor: "from-[#d4a853] to-[#c9a227]",
          icon: "ğŸš€",
          driveFileId: "18x1plfUCf3SrgfiXxq4kE8hQX0_iB8eo"
        },
        {
          id: 4,
          title: "Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ ÙˆØ±Ø­Ù„Ø© Ø§Ù„Ø®ÙŠØ§Ù„ Ù„Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„ÙˆØ§Ù‚Ø¹",
          author: "Ø£Ø­Ù…Ø¯ Ø²Ù†Ø¯Ø§Ø­",
          category: "adventure",
          categoryName: "Ø®ÙŠØ§Ù„ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª",
          description: "Ù‚ØµØ© Ù…Ø´ÙˆÙ‚Ø© Ø¹Ù† ØµØ¨ÙŠ ÙŠØ¯Ø®Ù„ Ø¹Ø§Ù„Ù… Ø§Ù„Ø®ÙŠØ§Ù„ Ù„ÙŠÙˆØ§Ø¬Ù‡ ØªØ­Ø¯ÙŠØ§Øª ÙƒØ¨ÙŠØ±Ø© ÙˆÙŠØªØ¹Ù„Ù… Ø¯Ø±ÙˆØ³Ø§Ù‹ Ù‚ÙŠÙ…Ø© Ø¹Ù† Ø§Ù„Ø´Ø¬Ø§Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹.",
          coverColor: "from-[#6b5b95] to-[#5a4a84]",
          icon: "ğŸŒŸ",
          driveFileId: "13anuTAEO4Xq_j53tx-UOj5h3DVm0B4rq"
        },
        {
          id: 5,
          title: "Ø³Ù„Ø§Ø­Ù Ø§Ù„Ø´Ø§Ø·Ø¦",
          author: "Ù…Ø¬Ù‡ÙˆÙ„",
          category: "environmental",
          categoryName: "Ù‚ØµØµ Ø¨ÙŠØ¦ÙŠØ© ÙˆØªÙˆØ¹ÙˆÙŠØ©",
          description: "Ù‚ØµØ© ØªÙˆØ¹ÙˆÙŠØ© Ø¬Ù…ÙŠÙ„Ø© Ø¹Ù† Ø£Ù‡Ù…ÙŠØ© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø³Ù„Ø§Ø­Ù Ø§Ù„Ø¨Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠØ© Ù„Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.",
          coverColor: "from-[#3498db] to-[#2980b9]",
          icon: "ğŸ¢",
          driveFileId: "1c0vBSAee68USJ0GA3vogzyPOGmus2dDm"
        },
        {
          id: 6,
          title: "ØªØ­Øª Ø¸Ù„ Ù†Ø®Ù„Ø©â€¦ Ø±Ø³Ù…Øª Ø­Ù„Ù…Ø§Ù‹",
          author: "Ù„Ø·ÙŠÙØ©",
          category: "environmental",
          categoryName: "Ù‚ØµØµ Ø¨ÙŠØ¦ÙŠØ© ÙˆØªÙˆØ¹ÙˆÙŠØ©",
          description: "Ù‚ØµØ© Ù…Ù„Ù‡Ù…Ø© Ø¹Ù† Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† ÙˆØ§Ù„Ø·Ø¨ÙŠØ¹Ø©ØŒ ÙˆÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ù„Ù„Ø£Ø­Ù„Ø§Ù… Ø£Ù† ØªØªØ­Ù‚Ù‚ ÙÙŠ Ø£Ø­Ø¶Ø§Ù† Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©.",
          coverColor: "from-[#27ae60] to-[#219a52]",
          icon: "ğŸŒ´",
          driveFileId: "1DENRQFgDnfbJIsGpH82VeuBgZ5qfRvCh"
        }
      ];

      let currentFilter = "all";
      let searchQuery = "";

      function renderBooks() {
        const grid = document.getElementById("books-grid");
        const noResults = document.getElementById("no-results");
        const countEl = document.getElementById("books-count");

        let filteredBooks = books;

        if (currentFilter !== "all") {
          filteredBooks = filteredBooks.filter((book) => book.category === currentFilter);
        }

        if (searchQuery) {
          const query = searchQuery.toLowerCase();
          filteredBooks = filteredBooks.filter(
            (book) =>
              book.title.toLowerCase().includes(query) ||
              book.author.toLowerCase().includes(query) ||
              book.description.toLowerCase().includes(query)
          );
        }

        countEl.textContent = filteredBooks.length;

        if (filteredBooks.length === 0) {
          grid.classList.add("hidden");
          noResults.classList.remove("hidden");
          return;
        }

        grid.classList.remove("hidden");
        noResults.classList.add("hidden");

        grid.innerHTML = filteredBooks
          .map(
            (book, index) => `
          <div class="book-card bg-white rounded-3xl shadow-lg overflow-hidden animate-fade-in" style="animation-delay: ${index * 0.1}s;">
            <div class="book-cover h-48 bg-gradient-to-br ${book.coverColor} flex items-center justify-center relative">
              <div class="text-6xl">${book.icon}</div>
              <div class="absolute top-3 right-3 bg-white/20 backdrop-blur-sm text-white text-xs px-3 py-1 rounded-full">
                ${book.categoryName}
              </div>
            </div>

            <div class="p-5">
              <h3 class="text-lg font-bold text-[#1a4d3e] mb-1 line-clamp-1">${book.title}</h3>
              <p class="text-sm text-[#d4a853] font-medium mb-3">${book.author}</p>
              <p class="text-sm text-[#666] line-clamp-2 mb-4 leading-relaxed">${book.description}</p>

              <div class="flex gap-2">
                <button onclick="openBookDetail(${book.id})" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/>
                  </svg>
                  Ù‚Ø±Ø§Ø¡Ø©
                </button>

                <button onclick="downloadBook(${book.id})" class="btn-secondary text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center gap-2" title="ØªØ­Ù…ÙŠÙ„">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        `
          )
          .join("");
      }

      function filterByCategory(category) {
        currentFilter = category;

        document.querySelectorAll(".category-btn").forEach((btn) => {
          btn.classList.remove("active", "bg-gradient-to-br", "from-[#1a4d3e]", "to-[#2d6a4f]", "text-white");
          if (btn.dataset.category === category) btn.classList.add("active");
        });

        const titles = {
          all: "Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨",
          school: "Ù‚ØµØµ Ù…Ø¯Ø±Ø³ÙŠØ©",
          adventure: "Ø®ÙŠØ§Ù„ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª",
          environmental: "Ù‚ØµØµ Ø¨ÙŠØ¦ÙŠØ© ÙˆØªÙˆØ¹ÙˆÙŠØ©"
        };
        document.getElementById("section-title").textContent = titles[category] || "Ø£Ø­Ø¯Ø« Ø§Ù„ÙƒØªØ¨";

        renderBooks();
        document.getElementById("books-section").scrollIntoView({ behavior: "smooth" });
      }

      function handleSearch(query) {
        searchQuery = query;
        renderBooks();
      }

      function openBookDetail(bookId) {
        const book = books.find((b) => b.id === bookId);
        if (!book) return;

        const modal = document.getElementById("book-modal");
        const modalTitle = document.getElementById("modal-title");
        const modalContent = document.getElementById("modal-content");

        const previewUrl = drivePreviewUrl(book.driveFileId);
        const viewUrl = driveViewUrl(book.driveFileId);
        const downloadUrl = driveDownloadUrl(book.driveFileId);

        modalTitle.textContent = book.title;

        modalContent.innerHTML = `
          <div class="flex flex-col lg:flex-row gap-8">
            <div class="lg:w-1/3">
              <div class="book-cover aspect-[3/4] bg-gradient-to-br ${book.coverColor} rounded-2xl flex items-center justify-center shadow-xl">
                <div class="text-8xl">${book.icon}</div>
              </div>

              <div class="mt-6 space-y-3">
                <button onclick="downloadPDF('${downloadUrl}', '${escapeHtml(book.title)}')" class="w-full btn-secondary text-white py-4 rounded-xl font-bold flex items-center justify-center gap-3 text-lg">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                  </svg>
                  ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨
                </button>

                <button onclick="openInNewTab('${viewUrl}')" class="w-full btn-primary text-white py-4 rounded-xl font-bold flex items-center justify-center gap-3">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3z"/>
                    <path d="M5 5h6v2H7v10h10v-4h2v6H5V5z"/>
                  </svg>
                  ÙØªØ­ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯
                </button>
              </div>
            </div>

            <div class="lg:w-2/3">
              <div class="mb-6 pb-6 border-b border-[#eee]">
                <div class="mb-6">
                  <span class="inline-block bg-[#1a4d3e]/10 text-[#1a4d3e] text-sm px-4 py-2 rounded-full font-medium">
                    ${book.categoryName}
                  </span>
                </div>

                <h2 class="text-3xl font-bold text-[#1a4d3e] mb-3">${book.title}</h2>

                <div class="flex items-center gap-2 mb-6">
                  <svg class="w-5 h-5 text-[#d4a853]" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                  </svg>
                  <span class="text-[#d4a853] font-bold text-lg">${book.author}</span>
                </div>

                <div class="prose prose-lg">
                  <h4 class="text-[#1a4d3e] font-bold mb-2">Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„ÙƒØªØ§Ø¨</h4>
                  <p class="text-[#555] leading-relaxed">${book.description}</p>
                </div>
              </div>

              <div class="pdf-viewer bg-[#f5f0e6] rounded-2xl overflow-hidden">
                <div class="bg-white border-b border-[#ddd] px-4 py-3 flex items-center justify-between">
                  <div class="flex items-center gap-2 text-sm text-[#666]">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6z"/>
                    </svg>
                    <span>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙƒØªØ§Ø¨</span>
                  </div>
                  <span class="text-xs bg-[#1a4d3e]/10 text-[#1a4d3e] px-3 py-1 rounded-full">PDF</span>
                </div>

                <iframe
                  src="${previewUrl}"
                  class="w-full"
                  style="height: 500px; border: none;"
                  title="Ù…Ø¹Ø§ÙŠÙ†Ø© ${escapeHtml(book.title)}"
                  loading="lazy"
                  allow="autoplay"
                ></iframe>

                <div class="bg-white border-t border-[#ddd] px-4 py-3 text-center text-sm text-[#666]">
                  <div class="flex items-center justify-center gap-2">
                    <svg class="w-4 h-4 text-[#1a4d3e]" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨ Ù…ØªØ§Ø­Ø© Ù…Ø¬Ø§Ù†Ø§Ù‹ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
                  </div>
                </div>
              </div>

              <div class="mt-4 text-xs text-[#777]">
                Ø¥Ø°Ø§ Ù„Ù… ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©ØŒ Ø§ÙØªØ­ Ø§Ù„ÙƒØªØ§Ø¨ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯.
              </div>
            </div>
          </div>
        `;

        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        const modal = document.getElementById("book-modal");
        modal.classList.add("hidden");
        document.body.style.overflow = "";
      }

      function openInNewTab(url) {
        window.open(url, "_blank", "noopener,noreferrer");
      }

      function downloadPDF(downloadUrl, bookTitle) {
        const link = document.createElement("a");
        link.href = downloadUrl;
        link.download = `${bookTitle}.pdf`;
        link.target = "_blank";
        link.rel = "noopener noreferrer";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);

        showNotification("Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨... " + bookTitle);
      }

      function downloadBook(bookId) {
        const book = books.find((b) => b.id === bookId);
        if (!book) return;
        downloadPDF(driveDownloadUrl(book.driveFileId), book.title);
      }

      function showNotification(message) {
        const notification = document.createElement("div");
        notification.className =
          "fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-[#1a4d3e] text-white p-4 rounded-2xl shadow-2xl z-50 animate-fade-in";
        notification.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
            </div>
            <div><p class="font-bold">${escapeHtml(message)}</p></div>
          </div>
        `;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.opacity = "0";
          notification.style.transform = "translateY(20px)";
          notification.style.transition = "all 0.3s ease";
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      function showHome() {
        currentFilter = "all";
        searchQuery = "";
        document.getElementById("search-input").value = "";
        document.getElementById("section-title").textContent = "Ø£Ø­Ø¯Ø« Ø§Ù„ÙƒØªØ¨";

        document.querySelectorAll(".category-btn").forEach((btn) => {
          btn.classList.remove("active");
          if (btn.dataset.category === "all") btn.classList.add("active");
        });

        renderBooks();
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function toggleMobileMenu() {
        document.getElementById("mobile-menu").classList.toggle("hidden");
      }

      function escapeHtml(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
      });

      renderBooks();
    </script>
  </body>
</html>